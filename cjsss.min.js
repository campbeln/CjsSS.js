/*
CjsSS.js v0.9i (kk) http://opensourcetaekwondo.com/cjsss
(c) 2014-2015 Nick Campbell cjsssdev@gmail.com
License: MIT
Thanks jscompress.com!
*/
!function(e,t,r,n,o,s,a,i){var c=function(t){"use strict";var n,o="ngCss",s=e.module(o,[]),a={version:"v0.9i",options:{script:"isolated",scope:"",async:!0,live:!1,callback:null},data:{cache:t.cache,services:{}},services:t},i=a.options,c=t.cache;t.version[o]=a.version,t.extend(t,{ng:{filter:t.mixin,conf:function(){function e(e){var t=e.replace(/([A-Z])/g,"-$1").toLowerCase();return 0===t.indexOf("-")?t.substr(1):t}var r=t.config;r.attr=e(o),r.scopeAlias="script",r.expandAttr="{ $scopeAlias: '$attr', scope: '$attr' }",r.getEvaler=function(e){return e===o?function(e){return n=n||t.ng.factory.scope.$new({isolate:!0}),n.$eval(e)}:null},t.scope.hook=function(e){return e.go=e.s!==!1,e},a.data.services=t.extend({},t)}}}),t.ng.conf(),s.filter("css",function(){return t.ng.filter}),s.factory(o,["$rootScope",function(n){function s(n){return t.is.str(n)&&"#"===n.substr(0,1)&&(n=r.getElementById(n.substr(1))),e.element(n)}function u(e){return t.is.obj(e)&&e.$root===n}function l(e){return e=t.extend({isolate:!1,parent:n},e),t.extend(n.$new(e.isolate===!0,e.parent),e.merge)}function f(e,r){var o,a,i=s(e);try{i&&i[0]&&(c[i[0].id]&&(o=c[i[0].id].foreignScope),u(o)||(o=i.isolateScope(),a=u(o),a||(o=i.scope())))}catch(l){t.warn("Error collecting $scope for",e,l)}return u(o)||r!==!0?o:n.$new(!0)}return t.ng.$rootScope=n,t.ng.factory={$ngCss:a,defaults:function(e){return i=t.extend(i,e),t.extend({},i)},newId:function(e){return t.newId(e||o)},scope:{$new:l,get:f,is:u,as:function(e,t){return u(e)?e:l({isolate:t===!0,merge:e})},outer:function(e){var r=s(e),o=f(r&&t.is.fn(r.parent)?r.parent():null);return o!==n?o:void 0}},updateCss:function(){n.$broadcast("updateCss")},addCssListener:function(e){n.$on("updateCss",e)}},t.ng.factory}]),s.directive(o,["$interpolate","$timeout",o,function(e,r,n){function s(e,o,s){e.ovaler=function(e){return s.$eval(e)},t.compile.options(e,i,function(s){var i=t.is.fn(s.scope)?t.fn.option(s.scope,e):s.scope,c=!0;t.is.str(i)&&("#"===i.substr(0,1)?(c=!1,r(function(){o=n.scope.get(i),e.foreignScope=o,a(e,o,s)})):"parent"!==i?(o=n.scope.$new({isolate:!0}),e.foreignScope=o):e.foreignScope=null),c&&a(e,o,s)})}function a(r,o,s){function a(){t.runScripts(r,s,{$scope:o,scope:o}),t.updateCSS(r)}n.scope.is(o)?(r.ng={$i:e(r.css),$s:o},r.$interpolate=function(){return r.ng.$i(r.ng.$s)},r.callback=s.callback,a(),s.live?o.$watch(a):n.addCssListener(a)):t.warn("Error collecting $scope for",r.dom,s.scope)}return i.d1=e.startSymbol(),i.d2=e.endSymbol(),i.optionScope=o,t.ng.$interpolate=e,t.ng.$timeout=r,t.ng.directive={restrict:"A",template:function(e,r){"{"!==r[o].substr(0,1)&&(delete r[o],delete r.$attr[o]),t.compile.element(e[0],i,function(t){"*"===t.tag&&(t[o]=e.attr(t.options.attr),e.removeAttr(t.options.attr))},!0)},link:function(e,r){var o=r[0].id,a=c[o],i=n.scope.outer(r)||e;a?s(a,e,i):t.coc[o]=function(){t.coc[o]=null,s(c[o],e,i)}}},t.ng.directive}])};n(t,r,c,o,s,a,i)}(angular,window,document,function(e,t,r,n,o,s,a){"use strict";function i(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var c,u=this,l={},f={},p=Object.prototype.toString,g=/<script.*?>([\s\S]*?)<\/script>/gi,d={version:{baseServices:"v0.9i"},config:{attr:"",scopeAlias:"scope",expandAttr:'{ "$scopeAlias": "$attr" }'},cache:l,coc:f,compile:{setCache:function(e,t,r,n,o){var s="*"===n,a=o||e,c=new RegExp("/\\*"+i(t.d1),"g"),u=new RegExp(i(t.d2)+"\\*/","g"),f={link:o||null,dom:e,tag:n,options:d.compile.getOptions(a,s?"":r),scripts:s?null:d.compile.getScripts(a,r),ovaler:d.fn.code(d.compile.getEvaler(f,d.scope.resolve(f,t,"optionScope"),"o"),e),css:(r||"").replace(g,"").replace(c,t.d1).replace(u,t.d2)};l[a.id]=f},element:function(e,r,n,o){var s,a=!1,i=[e];if(s=e.id=e.id||d.newId(),l[s])d.compile.setEvaler(l[s],r,n,i);else{switch(e.tagName.toLowerCase()){case"style":d.compile.setCache(e,r,e.innerHTML,"s"),e.innerHTML="";break;case"link":a=!0,d.get(e.href,d.resolve(d.compile.prevaler(d.compile.getOptions(e).a,r),"async")||r.async,function(a,c){if(a){var u=t.createElement("style");u.appendChild(t.createTextNode("")),d.compile.setCache(u,r,c,"l",e),u.type="text/css",u.setAttribute(l[s].options.attr,l[s].options.a),e.parentNode.replaceChild(u,e),e=u,u.id=s,d.compile.setEvaler(l[s],r,n,i,o)}else d.warn("Error retrieving `"+e.href+"` for",e,c),n(void 0,i)});break;default:d.compile.setCache(e,r,e.getAttribute("style"),"*"),e.removeAttribute("style")}a||d.compile.setEvaler(l[s],r,n,i,o)}return i},getEvaler:function(e,t,r,n){var o,s=t.s;return d.is.fn(d.evalFactory[s])?o="sandbox"===s?d.evalFactory[s](d.evaler.iframeFactory("allow-scripts","")).global():d.evalFactory[s](t.c):d.is.fn(d.config.getEvaler)&&(o=d.config.getEvaler(s)),d.is.fn(o)||n!==!0||d.warn("Invalid "+r+"valer `"+s+"` for",e.dom),o},setEvaler:function(e,r,n,o,s){function a(t,r,n,o){var s=e.scripts||[],a=0;m=!0,s.length>0&&(n=(n||"").substr(0,1),a="l"===n||"u"===n?-1:n.length),e.evaler={parent:t,scope:r,context:g.c,$eval:o,run:a}}var i,c,u=e.dom,p=u.id,g=d.scope.resolve(e,r,d.config.scopeAlias),v=g.s,m=!1,b=!1;g.go&&(d.is.str(v)?e.evaler&&e.evaler.scope===v&&e.evaler.context===g.c?m=!0:"#"!==v.substr(0,1)?(c=d.compile.getEvaler(e,g,"e",s),d.is.fn(c)&&a(null,v,v,c)):(i=l[v.substr(1)],i?d.is.fn(d.resolve(i,"evaler.$eval"))?a(i,v,i.evaler.scope,i.evaler.$eval):d.warn("Invalid evaler `"+v+"` for",u):(i=t.getElementById(v.substr(1)),i?(b=!0,d.compile.element(i,r,function(t,r){d.is.obj(t)&&a(t,v,t.evaler.scope,t.evaler.$eval),n(e,o.concat(r)),d.is.fn(f[p])&&f[p]()})):d.warn("Unknown parent `"+v+"` for",u))):s===!0&&d.warn("Invalid scope `"+v+"` for",u,v)),m||a(),b||(n(e,o),d.is.fn(f[p])&&f[p]())},options:function(e,t,r){function n(t){t&&(t.a&&!t.$a&&(t.$a=e.ovaler(t.a)),t.c&&!t.$c&&(t.$c=e.ovaler(t.c)))}d.compile.element(e.dom,t,function(o){var s;"*"===o.tag&&e.dom.setAttribute(o.options.attr,o[d.config.attr]),s=d.resolve(o,"evaler.parent.options")||{},n(s),n(o.options),r(d.extend({},t,s.$c,s.$a,o.options.$c,o.options.$a))})},getOptions:function(e,t){e.hasAttribute=e.hasAttribute||d.hasAttribute;var r,n=d.config.attr,o=new RegExp("^\\s*\\/\\*"+i(d.config.attr)+"\\((\\{.*?\\})\\)\\*\\/","i"),s=e.hasAttribute(n)?n:"data-"+n,a=e.getAttribute(s)||"",c={attr:s,a:a?0===a.indexOf("{")?a:d.config.expandAttr.replace(/\$scopeAlias/g,d.config.scopeAlias).replace(/\$attr/g,a.replace(/'/g,"\\'")):"{}"};return t&&(r=t.match(o),r&&r[1]&&(c.c=r[1])),c},prevaler:function(e,t){return c||(c=d.fn.code(d.compile.getEvaler({dom:u},d.scope.resolve({dom:u},t,"optionScope",!0),"o"),d.compile.prevaler)),c(e)},getScripts:function(e,t){var r,n,o=(t||"").match(g)||[],s=/<[\/]?script.*?>/gi,a=/<script.*?src=['"](.*?)['"].*?>/i,i=function(t,r,n){o[n.i]=t?r:"",t||d.warn("Error retrieving `"+n.src+"` for",e,r)};for(n=0;n<o.length;n++)r=a.exec(o[n]),r&&r[1]?d.get(r[1],!1,{fn:i,arg:{i:n,src:r[1]}}):o[n]=o[n].replace(s,"");return o}},extend:function(e){var t,r;for(e=d.is.obj(e)?e:{},t=1;t<arguments.length;t++)if(d.is.obj(arguments[t]))for(r in arguments[t])arguments[t].hasOwnProperty(r)&&(e[r]=d.is.obj(arguments[t][r])?d.extend(e[r],arguments[t][r]):arguments[t][r]);return e},fn:{safe:function(e,t,r){return d.is.fn(e)?e.apply(r||u,d.is.arr(t)?t:[t]):void 0},option:function(e,t){return d.fn.safe(e,[t.dom,t])},code:function(e,t){return function(r){try{return e(r)}catch(n){return d.warn("Error evaluating `"+r+"` for",t,n),{}}}}},get:function(e,t,r){var n,o=XMLHttpRequest||ActiveXObject;try{n=new o("MSXML2.XMLHTTP.3.0")}catch(s){}d.is.fn(r)&&(r={fn:r,arg:null}),n?(n.onreadystatechange=function(){4===n.readyState&&r.fn(200===n.status||0===n.status&&"file://"===e.substr(0,7),n.responseText,r.arg,n)},n.open("GET",e,t),n.send()):r.fn(!1,null,r.arg,n)},hasAttribute:function(e){return"undefined"!=typeof this[e]},is:{arr:function(e){return"[object Array]"===p.call(e)},dom:function(e){return e&&d.is.str(e.tagName)&&d.is.fn(e.getAttribute)},fn:function(e){return"[object Function]"===p.call(e)},jq:function(e){return e&&d.is.fn(e.replaceWith)&&d.is.dom(e[0])},obj:function(e){return e&&e===Object(e)&&!d.is.fn(e)},str:function(e){return("string"==typeof e||e instanceof String)&&""!==e}},mixin:function(e,t,r){function n(e,t){var r,o,s="";for(r in e)e.hasOwnProperty(r)&&"_selector"!==r&&(o=e[r],r=r.replace(/([A-Z])/g,"-$1").toLowerCase(),r=0===r.indexOf("-")?r.substr(1):r,s+=d.is.obj(o)?n(o,t):r+":"+o+";"+t);return s}var o="",s=r?"\n":"";return d.is.obj(e)&&(o=(t?(d.is.str(t)?t:e._selector)+" {":"")+s+n(e,s)+s+(t?"}":"")),o},newId:function(e){var r;e=e||d.config.attr+"_";do r=e+Math.random().toString(36).substr(2,5);while(t.getElementById(r));return r},resolve:function(e,t){var r,n;if(e=d.is.obj(e)?e:void 0,e&&d.is.str(t))for(r=t.split("."),n=0;n<r.length;n++){if(!(d.is.obj(e)&&r[n]in e)){e=void 0;break}e=e[r[n]]}return e},runScripts:function(e,t,r){var n,o=e.scripts||[],s=d.resolve(e,"evaler.parent");return t.script!==!1&&0!==e.evaler.run&&(s&&d.is.arr(s.scripts)&&0!==s.evaler.run&&(o=s.scripts.concat(o),s.evaler.run--),n=e.evaler.$eval(o,r,!0),e.evaler.run--,n.errors.length>0&&d.warn("Error evaluating Javascript for",e.dom,n.errors)),n},scope:{resolve:function(e,t,r,n){var o=d.resolve(e,"options.a"),s=d.scope.$({s:n!==!0?d.resolve(d.compile.prevaler(o,t),r)||t[r]:t[r],go:!0},e,d.config.scopeAlias);if(s.c)switch((s.s||"").toLowerCase()){case"local":case"usestrict":break;default:d.warn("Context cannot be used with `"+s.s+"`",e.dom)}return s},hook:function(e){return e},$:function(e,t,r){return d.is.fn(e.s)&&(e.s=d.fn.option(e.s,t)),d.is.obj(e.s)&&(e.s=d.is.jq(e.s)?e.s[0]:e.s,d.is.dom(e.s)?(e.s.id=e.s.id||d.newId(),e.s="#"+e.s.id):r in e.s&&"context"in e.s?(e.c=e.s.context,e.s=e.s[r]):(e.c=e.s,e.s="local")),e=d.scope.hook(e),(d.is.obj(e.s)||d.is.fn(e.s))&&(e=d.scope.$(e,t,r)),e}},updateCSS:function(e){try{var t=e.$interpolate();"*"===e.tag?e.dom.style.cssText=t:e.dom.innerHTML=t,d.fn.option(e.callback,e)===!1&&(e.callback=null)}catch(r){d.warn("Error updating CSS for",e.dom,r)}},warn:function(e,t,r){var n=console||function(){};(n.warn||n.log||n)(d.config.attr+": "+e,t,r)}};d.evalFactory=n(e,t,d,o,s,a),r(d)},function(e,t,r,n,o,s){"use strict";function a(e){var t="try{return(function(g,Object){return((1,eval)('Object')===g?function(){return(1,eval)(arguments[0]);}:(window.execScript?function(){return window.execScript(arguments[0]);}:undefined));})(Object,{});}catch(e){return undefined;}";return e?t:void(null===p&&(p=new Function(t)()))}function i(e,t,s,a){return function(i,c,u){var l,f=r.is.arr(i),p=r.is.obj(c),g={js:f?i:[i],results:[],errors:[]};switch(e){case n:case o:Object.keys||(Object.keys=function(e){if(e!==Object(e))throw new TypeError("Object.keys called on a non-object");var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.push(t);return r}),a?e.call(s,g,0,p?{o:c,k:Object.keys(c),c:""}:null):e(g,0,p?{o:c,k:Object.keys(c),c:""}:null);break;default:if(t&&p)for(l in c)void 0===t[l]&&c.hasOwnProperty(l)&&(t[l]=c[l]);for(l=0;l<g.js.length;l++)try{g.results.push(e(g.js[l]))}catch(d){g.results.push(void 0),g.errors.push({index:l,error:d,js:g.js[l]})}}return u?g:f?g.results:g.results[0]}}function c(e,n,o){var s=r.newId("sandbox");return e=null===e?"":' sandbox="'+(e?e:"allow-scripts")+'"',(o||t.body||t.head||t.getElementsByTagName("head")[0]).insertAdjacentHTML("afterbegin",'<iframe src="'+n+'" id="'+s+'" style="display:none;"'+e+"></iframe>"),t.getElementById(s)}function u(t,s,f){var g,d,v="eval",m=void 0!==s&&null!==s;switch(s=m?s:e,t){case"g":s===e?(a(),g=!p&&f.f?n:p,g&&(d=i(g,e))):r.is.fn(s[v])&&(g=s[v]("(function(){"+a(!0)+"})()"),g=!g&&f.f?function(){return s[v](arguments[0])}:g,g&&(d=f.r?g:i(g,s)));break;case"l":d=i(n,e,s,m);break;case"u":d=i(o,e,s,m);break;case"i":f=r.is.obj(f)?f:{},f.iframe=c(null,""),f.window=f.iframe.contentWindow,g=u("g",f.window,{f:1,r:1});var b=i(g,f.window);d=function(e,t,r){return b(e,t,r)};break;case"j":d=i(l)}return d}var l,f="v0.9f",p=null;return r.version.evaler=f,r.extend(r,{evaler:{iframeFactory:c}}),e.JSON&&e.JSON.parse?l=e.JSON.parse:e.jQuery&&e.jQuery.parseJSON&&(l=e.jQuery.parseJSON),{$version:f,global:function(t,r){return u("g",r||e,{f:t})},local:n?function(e){return u("l",e)}:void 0,useStrict:o?function(e){return u("u",e)}:void 0,isolated:function(e){return u("i",null,e)},json:l?function(){return u("j")}:void 0,sandbox:s?s(e,r,{looper:i,iframe:c}):void 0}},function(){if(arguments[2])for(;arguments[2].k.length>0;)arguments[2].c=arguments[2].k.shift(),eval("var "+arguments[2].c+"=arguments[2].o[arguments[2].c];");for(;arguments[1]<arguments[0].js.length;){try{eval(arguments[0].js[arguments[1]])}catch(e){arguments[0].results.push(void 0),arguments[0].errors.push({index:arguments[1],error:e,js:arguments[0].js[arguments[1]]})}arguments[1]++}},function(){if(arguments[2])for(;arguments[2].k.length>0;)arguments[2].c=arguments[2].k.shift(),eval("var "+arguments[2].c+"=arguments[2].o[arguments[2].c];");!function(){"use strict";for(;arguments[1]<arguments[0].js.length;){try{eval(arguments[0].js[arguments[1]])}catch(e){arguments[0].results.push(void 0),arguments[0].errors.push({index:arguments[1],error:e,js:arguments[0].js[arguments[1]]})}arguments[1]++}}(arguments[0],0,arguments[2])},function(e,t,r){"use strict";function n(r,n){var o=arguments[3];if(!i){i=!0,e.addEventListener=e.addEventListener||function(t,r){e.attachEvent("on"+t,r)},e.addEventListener("message",function(r){var n;a=t.is.str(r.data),n=a?e.JSON.parse(r.data):r.data,"null"===r.origin&&s[n.id]&&(s[n.id](r.source,{results:n.r,errors:n.e,js:n.js},n.arg),delete s[n.id])},!1);try{e.postMessage({},"*")}catch(u){a=!0}}return function(i,u,l){var f=t.is.arr(i);return{then:function(t,p){var g={js:f?i:[i],id:c++,arg:p,type:r,context:n,inject:u};s[c]=function(e,r,n){e===o&&t(l?r:f?r.results:r.results[0],n)},o.postMessage(a?e.JSON.stringify(g):g,"*")}}}}function o(t){var o=t.contentWindow,s=e.postMessage&&-1===(t.getAttribute("sandbox")+"").indexOf("allow-same-origin"),a=s?n:r.looper;return{iframe:t,window:o,secure:s,global:function(e){var t=e?"isolated":"global";return a(s?t:o.$sandbox[t],o)},local:function(e){var t=1===arguments.length,r=t?"context":"local";return a(s?r:o.$sandbox[r],e||o,t,o)}}}var s=[],a=!1,i=!1,c=0;return function(e,t,n){switch(arguments.length){case 0:o(r.iframe("allow-scripts",""));break;case 1:o(e);break;case 2:case 3:o(r.iframe(e,t,n))}}});
