/*
CjsSS.js v0.9f (kk) http://opensourcetaekwondo.com/cjsss
(c) 2014-2015 Nick Campbell cjsssdev@gmail.com
License: MIT
Thanks jscompress.com!
*/
!function(e,t,r,n,s,o,a,i){var c=function(t){"use strict";function n(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function s(e,s,o,a){function i(){switch(l.scope.substr(0,1)){case"#":l=u(l),delete p[g].run,delete p[g].evaler;break;case"l":case"u":delete p[g].parent,p[g].run=-1,p[g].evaler=t.evalFactory[l.scope]();break;default:delete p[g].parent,p[g].run=1,p[g].evaler=t.evalFactory[l.scope]()}}function u(n){var s,a=n.scope.substring(1),i=p[a];return i||(s=r.getElementById(a),s?n.async&&"link"===e.tagName.toLowerCase()?t.warn("Orphaned element (asynchronously loaded LINK tags designated as parent scopes must be loaded prior to their children):",e):(s=t.js.process(s,o.oPro),i=p[a]):t.warn("Orphaned element (unable to locate parent ID '#"+a+"'):",e)),i&&i!==p[g].parent&&(p[g].parent=i,t.is.arr(s)&&(o.r$e=o.r$e.concat(s)),n=t.js.getOptions(o.oPro,p[g])),n}var l,f,d,g=e.id;return p[g]?(l=t.js.getOptions(o.oPro,p[g]),s||l.rescope!==!0||i()):(d=a.match(new RegExp("^\\s*\\/\\*"+c+"\\(\\{(.*)?\\}\\)\\*\\/","i")),p[g]={scripts:s?t.getScripts(a,e):null,id:g},(o.oA||d)&&(f=t.evalFactory[o.oPre.optionScope](),o.oA&&(p[g].aOptions=f(o.oA)),s&&d&&d[1]&&(p[g].cOptions=f("{"+d[1]+"}"))),l=t.js.getOptions(o.oPro,p[g]),p[g].css=a.replace(new RegExp("/\\*"+n(l.d1),"g"),l.d1).replace(new RegExp(n(l.d2)+"\\*/","g"),l.d2),i()),l}var o=window,a=!1,i=/<script.*?>([\s\S]*?)<\/script>/gi,c="cjsss",u={version:"v0.9f",options:{selector:"["+c+"],[data-"+c+"],LINK[type='text/"+c+"'],STYLE[type='text/"+c+"']",optionScope:"json",scope:"isolated",expose:!0,async:!0,rescope:!1,d1:"[[",d2:"]]"},data:{cache:t.cache,inject:{},services:{}},services:t,process:function(){t.js.process.apply(this,arguments)},mixin:function(){t.mixin.apply(this,arguments)},inject:function(){t.js.inject.apply(this,arguments)}},l=u.options,f=u.data.inject,p=t.cache;t.version[c]=u.version,t.extend(t,{js:{autorun:function(){l.selector?t.js.process(l.selector):t.js.expose()},dom:e||function(e){try{return r.querySelectorAll(e)}catch(t){return[]}},expose:function(){a||(a=!0,u=o[c]=t.extend(o[c],u),t.js.inject(c,u))},inject:function(e,r){var n=t.is.str(e);return n&&(f[e]=r),n},getOptions:function(e,r){r=t.is.obj(r)?r:{};var n=r.parent||{};return t.extend({},l,n.cOptions,r.cOptions,n.aOptions,r.aOptions,e)},process:function(e,n){var o,a,i,u,l,f,d=[],g=[],v=t.js.getOptions(n),m=function(e){return"undefined"!=typeof this[e]},h=function(e,o,a){if(e){var i=r.createElement("style");i.type="text/css",i.setAttribute(a.attr,a.$link.getAttribute(a.attr)||""),a.$link.parentNode.replaceChild(i,a.$link),i.id=a.id,t.js.processCSS(i,s(i,!0,{oA:a.aOptions,oPre:v,oPro:n,r$e:g},o))}};for(e?d=t.is.str(e)?t.js.dom(e):e[0]&&e.length?e:[e]:t.is.str(v.selector)&&(d=t.js.dom(v.selector)),v.expose&&t.js.expose(),o=0;o<d.length;o++)switch(a=d[o],a.hasAttribute=a.hasAttribute||m,i=(a.hasAttribute("data-"+c)?"data-":"")+c,u=a.getAttribute(i),l=a.id=a.id||t.newId(),a.tagName.toLowerCase()){case"style":f=p[l]?s(a,!0,{oPro:n}):s(a,!0,{oA:u,oPre:v,oPro:n,r$e:g},a.innerHTML),t.js.processCSS(a,f),a.type="text/css";break;case"link":t.get(a.href,v.async,{fn:h,arg:{$link:a,attr:i,aOptions:u,id:l}});break;default:p[l]?t.js.processCSS(a,s(a,!1,{oPro:n,r$e:g}),!0):t.js.processCSS(a,s(a,!1,{oA:u&&0!==u.indexOf("{")?'{ "scope": "'+u+'" }':u,oPre:v,oPro:n,r$e:g},a.getAttribute("style")),!0)}return[].concat(d,g)},processCSS:function(e,r,n){function s(r){for(c=v[0],o=1;o<v.length;o++)c+=r.results[v[o].i]+v[o].s;n?e.setAttribute("style",c):e.styleSheet?e.styleSheet.cssText=c:e.innerHTML=c,r.errors.length>0&&t.warn("Errors occurred processing the Javascript for: ",e,r.errors)}var o,a,c,u,l=[],d=e.id,g=p[d].parent||p[d],v=p[d].css.replace(i,"").split(r.d1);for(g.scripts&&0!==g.run&&(g.run--,l=g.scripts),p[d].parent&&p[d].scripts&&0!==p[d].run&&(p[d].run--,l=l.concat(p[d].scripts)),o=1;o<v.length;o++)a=v[o].split(r.d2),v[o]={i:l.push(a.shift())-1,s:a.join(r.d2)};u=g.evaler(l,f,!0),t.is.fn(u.then)?u.then(s):s(u)},conf:function(){t.config.attr=c,u.data.services=t.extend({},t),t.is.obj(o[c])&&(t.is.fn(o[c].servicesFactory)&&t.extend(t,o[c].servicesFactory(u)),t.extend(l,o[c].options)),t.js.inject("mixin",t.mixin)}}}),t.js.conf(),t.js.autorun()};n(t,r,c,s,o,a,i)}(window.jQuery,window,document,function(e,t,r,n,s,o,a){"use strict";var i={},c={},u=Object.prototype.toString,l=/<script.*?>([\s\S]*?)<\/script>/gi,f={version:{baseServices:"v0.9f"},cache:i,coc:c,config:{attr:"",scopeAlias:"scope",expandAttr:"{ $scopeAlias: '$attr' }"},callOptionFn:function(e,t){return f.is.fn(e)?e(t.dom,t):void 0},compile:function(e,r,n,s){function o(t){try{return n(t)}catch(r){return f.warn("Error evaluating `"+t+"` for",e,r),{}}}function a(e,t){e.hasAttribute=e.hasAttribute||f.hasAttribute;var r,n=f.config.attr,s=e.hasAttribute(n)?n:"data-"+n,o=e.getAttribute(s)||"",a={attr:s,a:o?0===o.indexOf("{")?o:f.config.expandAttr.replace(/\$scopeAlias/g,f.config.scopeAlias).replace(/\$attr/g,o.replace(/'/g,"\\'")):"{}"};return t&&(r=t.match(b),r&&r[1]&&(a.c=r[1])),a}function u(e,t,n,s){var o="*"===n,c=s||e;i[c.id]={link:s||null,dom:e,tag:n,options:a(c,o?"":t),scripts:o?null:f.getScripts(t,c),css:(t||"").replace(l,"").replace(m,r.d1).replace(h,r.d2)}}function p(a,u){function l(e,t,r,n){var s=a.scripts||[],o=0;h=!0,s.length>0&&(r=(r||"").substr(0,1),o="l"===r||"u"===r?-1:r.length),a.evaler={parent:e,scope:t,context:g.c,$eval:n,run:o}}var p,g=f.scope.resolve(a,r,o),m=g.s,h=!1,b=!1;g.go&&(f.is.str(m)?a.evaler&&a.evaler.scope===m&&a.evaler.context===g.c?h=!0:"#"!==m.substr(0,1)?f.is.fn(f.evalFactory[m])?"sandbox"===m?l(null,m,m,f.evalFactory[m](f.evaler.iframeFactory("allow-scripts","")).global()):l(null,m,m,f.evalFactory[m](g.c)):u&&f.warn("Invalid evaler `"+m+"` for",a.dom):(p=i[m.substr(1)],p?l(p,m,p.evaler.scope,p.evaler.$eval):(p=t.getElementById(m.substr(1)),p?(b=!0,f.compile(p,r,n,function(e,t){f.is.obj(e)&&l(e,m,e.evaler.scope,e.evaler.$eval),s(a,v.concat(t)),f.is.fn(c[d])&&c[d]()})):f.warn("Unknown parent `"+m+"` for",e))):u&&f.warn("Invalid scope `"+m+"` for",e,m)),h||l(),b||(s(a,v),f.is.fn(c[d])&&c[d]())}var d,g=!1,v=[e],m=new RegExp("/\\*"+r.d1,"g"),h=new RegExp(r.d2+"\\*/","g"),b=new RegExp("^\\s*\\/\\*"+f.config.attr+"\\((\\{.*?\\})\\)\\*\\/","i");if(d=e.id=e.id||f.newId(),i[d])p(i[d],!0);else{switch(e.tagName.toLowerCase()){case"style":u(e,e.innerHTML,"s"),e.innerHTML="";break;case"link":g=!0,f.get(e.href,f.resolve(o(a(e).a),"async")||r.async,function(r,n){if(r){var o=t.createElement("style");o.appendChild(t.createTextNode("")),u(o,n,"l",e),o.type="text/css",o.setAttribute(i[d].options.attr,i[d].options.a),e.parentNode.replaceChild(o,e),e=o,o.id=d,p(i[d])}else f.warn("Error retrieving `"+e.href+"` for",e,n),s(void 0,v)});break;default:u(e,e.getAttribute("style"),"*"),e.removeAttribute("style")}g||p(i[d])}},extend:function(e){var t,r;for(e=f.is.obj(e)?e:{},t=1;t<arguments.length;t++)if(f.is.obj(arguments[t]))for(r in arguments[t])arguments[t].hasOwnProperty(r)&&(e[r]=f.is.obj(arguments[t][r])?f.extend(e[r],arguments[t][r]):arguments[t][r]);return e},get:function(e,t,r){var n,s=XMLHttpRequest||ActiveXObject;try{n=new s("MSXML2.XMLHTTP.3.0")}catch(o){}f.is.fn(r)&&(r={fn:r,arg:null}),n?(n.onreadystatechange=function(){4===n.readyState&&r.fn(200===n.status||0===n.status&&"file://"===e.substr(0,7),n.responseText,r.arg,n)},n.open("GET",e,t),n.send()):r.fn(!1,null,r.arg,n)},getScripts:function(e,t){var r,n,s=(e||"").match(l)||[],o=/<[\/]?script.*?>/gi,a=/<script.*?src=['"](.*?)['"].*?>/i,i=function(e,r,n){s[n.i]=e?r:"",e||f.warn("Error retrieving `"+n.src+"` for",t,r)};for(n=0;n<s.length;n++)r=a.exec(s[n]),r&&r[1]?f.get(r[1],!1,{fn:i,arg:{i:n,src:r[1]}}):s[n]=s[n].replace(o,"");return s},hasAttribute:function(e){return"undefined"!=typeof this[e]},is:{str:function(e){return("string"==typeof e||e instanceof String)&&""!==e},fn:function(e){return"[object Function]"===u.call(e)},obj:function(e){return e&&e===Object(e)&&!f.is.fn(e)},arr:function(e){return"[object Array]"===u.call(e)},dom:function(e){return e&&f.is.str(e.tagName)&&f.is.fn(e.getAttribute)},jq:function(e){return e&&f.is.fn(e.replaceWith)&&f.is.dom(e[0])}},mixin:function(e,t,r){function n(e,t){var r,s,o="";for(r in e)e.hasOwnProperty(r)&&"_selector"!==r&&(s=e[r],r=r.replace(/([A-Z])/g,"-$1").toLowerCase(),r=0===r.indexOf("-")?r.substr(1):r,o+=f.is.obj(s)?n(s,t):r+":"+s+";"+t);return o}var s="",o=r?"\n":"";return f.is.obj(e)?s=(t?(f.is.str(t)?t:e._selector)+" {":"")+o+n(e,o)+o+(t?"}":""):f.is.str(e),s},newId:function(e){var r;e=e||f.config.attr+"_";do r=e+Math.random().toString(36).substr(2,5);while(t.getElementById(r));return r},resolve:function(e,t){var r,n;if(e=f.is.obj(e)?e:void 0,e&&f.is.str(t))for(r=t.split("."),n=0;n<r.length;n++){if(!(f.is.obj(e)&&r[n]in e)){e=void 0;break}e=e[r[n]]}return e},scope:{resolve:function(e,t,r){var n=f.config.scopeAlias,s=f.scope.$({s:f.resolve(r(e.options.a),n)||t[n],go:!0},e);if(s.c)switch(s.s.toLowerCase()){case"local":case"usestrict":break;default:f.warn("Context cannot be used with `"+s.s+"`",e.dom)}return s},hook:function(e){return e},$:function(e,t){return f.is.fn(e.s)&&(e.s=f.callOptionFn(e.s,t)),f.is.obj(e.s)&&(e.s=f.is.jq(e.s)?e.s[0]:e.s,f.is.dom(e.s)?(e.s.id=e.s.id||f.newId(),e.s="#"+e.s.id):f.config.scopeAlias in e.s&&"context"in e.s?(e.c=e.s.context,e.s=e.s[f.config.scopeAlias]):(e.c=e.s,e.s="local")),e=f.scope.hook(e),(f.is.obj(e.s)||f.is.fn(e.s))&&(e=f.scope.$(e,t)),e}},warn:function(e,t,r){var n=console||function(){};(n.warn||n.log||n)(f.config.attr+": "+e,t,r)}};f.evalFactory=n(e,t,f,s,o,a),r(f)},function(e,t,r,n,s,o){"use strict";function a(e){var t="try{return(function(g,Object){return((1,eval)('Object')===g?function(){return(1,eval)(arguments[0]);}:(window.execScript?function(){return window.execScript(arguments[0]);}:undefined));})(Object,{});}catch(e){return undefined;}";return e?t:void(null===p&&(p=new Function(t)()))}function i(e,t,o,a){return function(i,c,u){var l,f=r.is.arr(i),p=r.is.obj(c),d={js:f?i:[i],results:[],errors:[]};switch(e){case n:case s:Object.keys||(Object.keys=function(e){if(e!==Object(e))throw new TypeError("Object.keys called on a non-object");var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.push(t);return r}),a?e.call(o,d,0,p?{o:c,k:Object.keys(c),c:""}:null):e(d,0,p?{o:c,k:Object.keys(c),c:""}:null);break;default:if(t&&p)for(l in c)void 0===t[l]&&c.hasOwnProperty(l)&&(t[l]=c[l]);for(l=0;l<d.js.length;l++)try{d.results.push(e(d.js[l]))}catch(g){d.results.push(void 0),d.errors.push({index:l,error:g,js:d.js[l]})}}return u?d:f?d.results:d.results[0]}}function c(e,n,s){var o=r.newId("sandbox");return e=null===e?"":' sandbox="'+(e?e:"allow-scripts")+'"',(s||t.body||t.head||t.getElementsByTagName("head")[0]).insertAdjacentHTML("afterbegin",'<iframe src="'+n+'" id="'+o+'" style="display:none;"'+e+"></iframe>"),t.getElementById(o)}function u(t,o,f){var d,g,v="eval",m=void 0!==o&&null!==o;switch(o=m?o:e,t){case"g":o===e?(a(),d=!p&&f.f?n:p,d&&(g=i(d,e))):r.is.fn(o[v])&&(d=o[v]("(function(){"+a(!0)+"})()"),d=!d&&f.f?function(){return o[v](arguments[0])}:d,d&&(g=f.r?d:i(d,o)));break;case"l":g=i(n,e,o,m);break;case"u":g=i(s,e,o,m);break;case"i":f=r.is.obj(f)?f:{},f.iframe=c(null,""),f.window=f.iframe.contentWindow,d=u("g",f.window,{f:1,r:1});var h=i(d,f.window);g=function(e,t,r){return h(e,t,r)};break;case"j":g=i(l)}return g}var l,f="v0.9f",p=null;return r.version.evaler=f,r.extend(r,{evaler:{iframeFactory:c}}),e.JSON&&e.JSON.parse?l=e.JSON.parse:e.jQuery&&e.jQuery.parseJSON&&(l=e.jQuery.parseJSON),{$version:f,global:function(t,r){return u("g",r||e,{f:t})},local:n?function(e){return u("l",e)}:void 0,useStrict:s?function(e){return u("u",e)}:void 0,isolated:function(e){return u("i",null,e)},json:l?function(){return u("j")}:void 0,sandbox:o?o(e,r,{looper:i,iframe:c}):void 0}},function(){if(arguments[2])for(;arguments[2].k.length>0;)arguments[2].c=arguments[2].k.shift(),eval("var "+arguments[2].c+"=arguments[2].o[arguments[2].c];");for(;arguments[1]<arguments[0].js.length;){try{eval(arguments[0].js[arguments[1]])}catch(e){arguments[0].results.push(void 0),arguments[0].errors.push({index:arguments[1],error:e,js:arguments[0].js[arguments[1]]})}arguments[1]++}},function(){if(arguments[2])for(;arguments[2].k.length>0;)arguments[2].c=arguments[2].k.shift(),eval("var "+arguments[2].c+"=arguments[2].o[arguments[2].c];");!function(){"use strict";for(;arguments[1]<arguments[0].js.length;){try{eval(arguments[0].js[arguments[1]])}catch(e){arguments[0].results.push(void 0),arguments[0].errors.push({index:arguments[1],error:e,js:arguments[0].js[arguments[1]]})}arguments[1]++}}(arguments[0],0,arguments[2])},function(e,t,r){"use strict";function n(r,n){var s=arguments[3];if(!i){i=!0,e.addEventListener=e.addEventListener||function(t,r){e.attachEvent("on"+t,r)},e.addEventListener("message",function(r){var n;a=t.is.str(r.data),n=a?e.JSON.parse(r.data):r.data,"null"===r.origin&&o[n.id]&&(o[n.id](r.source,{results:n.r,errors:n.e,js:n.js},n.arg),delete o[n.id])},!1);try{e.postMessage({},"*")}catch(u){a=!0}}return function(i,u,l){var f=t.is.arr(i);return{then:function(t,p){var d={js:f?i:[i],id:c++,arg:p,type:r,context:n,inject:u};o[c]=function(e,r,n){e===s&&t(l?r:f?r.results:r.results[0],n)},s.postMessage(a?e.JSON.stringify(d):d,"*")}}}}function s(t){var s=t.contentWindow,o=e.postMessage&&-1===(t.getAttribute("sandbox")+"").indexOf("allow-same-origin"),a=o?n:r.looper;return{iframe:t,window:s,secure:o,global:function(e){var t=e?"isolated":"global";return a(o?t:s.$sandbox[t],s)},local:function(e){var t=1===arguments.length,r=t?"context":"local";return a(o?r:s.$sandbox[r],e||s,t,s)}}}var o=[],a=!1,i=!1,c=0;return function(e,t,n){switch(arguments.length){case 0:s(r.iframe("allow-scripts",""));break;case 1:s(e);break;case 2:case 3:s(r.iframe(e,t,n))}}});
